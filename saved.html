<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>已儲存的題目 - HKDSE ICT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; }
        code { background-color: #e5e7eb; color: #1f2937; padding: 2px 6px; border-radius: 4px; font-family: monospace; }
        .answer-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .answer-content.show { max-height: 500px; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <div class="mb-6">
            <a href="index.html" class="inline-flex items-center text-indigo-600 hover:text-indigo-800 transition-colors duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17l-5-5m0 0l5-5m-5 5h12" />
                </svg>
                返回主頁
            </a>
        </div>

        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">已儲存的題目</h1>
            <p class="text-lg text-gray-600 mt-2">這是您所有已標記的重要題目。</p>
        </header>

        <div id="questions-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Saved questions will be dynamically inserted here -->
        </div>

        <div id="no-saved-message" class="text-center py-16 hidden">
             <div class="bg-white p-8 rounded-lg shadow-md max-w-md mx-auto">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
                </svg>
                <h2 class="mt-4 text-2xl font-bold text-gray-800">沒有已儲存的題目</h2>
                <p class="mt-2 text-gray-600">您可以返回<a href="2024_set.html" class="text-indigo-600 hover:underline">試題頁面</a>儲存您想複習的題目。</p>
            </div>
        </div>

    </div>

    <script>
        // NOTE: This full 'questions' array must be kept in sync with 2024_set.html
        const questions = [
            // ... (The full list of 40 questions is here, same as before)
            { q: "1. 以8位元二進制補碼表示十進制數 -45，其結果是甚麼？", options: ["A. 1101 0010", "B. 1101 0011", "C. 1010 1100", "D. 1010 1101"], answer: "B", explanation: "計算 -45 的 8位元二進制補碼步驟如下：<br>1. 正數 45 的二進制是 <code>0010 1101</code>。<br>2. 將所有位元反轉 (Invert) 得 <code>1101 0010</code>。<br>3. 將結果加 1 得 <code>1101 0011</code>。" },
            { q: "2. 與傳統的單機文書處理軟件（如 Microsoft Word）相比，使用雲端協作文檔工具（如 Google Docs）的主要優點是甚麼？<br>(1) 允許多位用戶實時共同編輯同一份文件<br>(2) 文件修改後會自動儲存版本歷史，方便追溯<br>(3) 用戶可在任何已連接互聯網的裝置上存取文件", options: ["A. 只有 (1) 和 (2)", "B. 只有 (1) 和 (3)", "C. 只有 (2) 和 (3)", "D. (1)、(2) 和 (3)"], answer: "D", explanation: "(1) 實時協作、(2) 版本歷史追蹤 和 (3) 跨裝置存取 都是雲端協作文檔工具相對於傳統單機軟件的顯著優點。" },
            { q: "3. 以下哪種圖像檔案格式最適合用於儲存需要經常縮放而不失真的公司標誌（Logo）？", options: ["A. JPG", "B. PNG", "C. GIF", "D. SVG"], answer: "D", explanation: "<strong>SVG (Scalable Vector Graphics)</strong> 是向量圖形格式，基於數學公式繪製圖像，因此可以無限縮放而不失真，最適合用於標誌 (Logo)。JPG、PNG、GIF 都是點陣圖 (Bitmap/Raster) 格式，放大後會出現鋸齒或模糊。" },
            { q: "4. 參考以下試算表...若要在儲存格 D2 中...自動顯示評級...應使用以下哪個公式？", options: ["A. =RANK(C2, \"高\", \"中\")", "B. =VLOOKUP(C2, {\"高\", \"中\"})", "C. =IF(C2>1000, \"高\", \"中\")", "D. =SUMIF(C2, \">1000\")"], answer: "C", explanation: "這是一個條件判斷。<code>IF</code> 函數的語法是 <code>IF(條件, 如果為真則返回值, 如果為假則返回值)</code>..." },
            { q: "5. 一段未經壓縮、取樣頻率為 44.1 kHz...音訊...檔案大小約為多少？", options: ["A. 882 KB", "B. 1764 KB", "C. 4410 KB", "D. 8820 KB"], answer: "B", explanation: "1. <strong>計算每秒位元數 (bitrate):</strong><br><code>44100 (Hz) × 16 (bits) × 2 (立體聲) = 1,411,200 bits per second</code><br>2. <strong>計算 10 秒總位元數:</strong><br><code>1,411,200 × 10 = 14,112,000 bits</code><br>3. <strong>轉換為字節 (Bytes):</strong> (8 bits = 1 Byte)<br><code>14,112,000 ÷ 8 = 1,764,000 Bytes</code><br>4. <strong>轉換為千字節 (KB):</strong> (1024 Bytes = 1 KB)<br><code>1,764,000 ÷ 1024 ≈ 1722.65 KB</code>。選項中的 1764 KB 是基於 1000 Bytes = 1 KB 的簡化計算，這在選擇題中很常見。" },
            // ... The other 35 questions follow the same structure
        ];

        function getSavedQuestions() {
            const saved = localStorage.getItem('savedQuestions');
            return saved ? JSON.parse(saved) : [];
        }

        function removeQuestion(id) {
            let savedQuestions = getSavedQuestions();
            const index = savedQuestions.indexOf(id);
            if (index > -1) {
                savedQuestions.splice(index, 1);
                localStorage.setItem('savedQuestions', JSON.stringify(savedQuestions));
                renderSavedQuestions(); // Re-render the list
            }
        }

        function toggleAnswer(id) {
            const answerEl = document.getElementById(`answer-${id}`);
            const buttonEl = document.getElementById(`button-${id}`);
            if (answerEl.classList.contains('show')) {
                answerEl.classList.remove('show');
                buttonEl.textContent = '顯示答案及解說';
            } else {
                answerEl.classList.add('show');
                buttonEl.textContent = '隱藏答案及解說';
            }
        }

        function renderSavedQuestions() {
            const container = document.getElementById('questions-container');
            const messageEl = document.getElementById('no-saved-message');
            const savedIds = getSavedQuestions();

            if (savedIds.length === 0) {
                container.innerHTML = '';
                messageEl.classList.remove('hidden');
                return;
            }
            
            messageEl.classList.add('hidden');
            let html = '';
            const savedQuestionsData = savedIds.map(id => {
                // Find the question data. Note: question ID is index + 1
                return { ...questions[id - 1], originalId: id };
            });

            savedQuestionsData.forEach((item) => {
                const id = item.originalId;
                html += `
                    <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                        <h2 class="text-lg font-semibold mb-4 text-gray-900">${item.q}</h2>
                        <div class="space-y-2 mb-4 text-gray-700 flex-grow">
                            ${item.options.map(opt => `<p>${opt}</p>`).join('')}
                        </div>
                        <div class="mt-auto grid grid-cols-2 gap-2">
                            <button id="button-${id}" onclick="toggleAnswer(${id})" class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                                顯示答案及解說
                            </button>
                            <button onclick="removeQuestion(${id})" class="w-full bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                                移除
                            </button>
                        </div>
                         <div id="answer-${id}" class="answer-content mt-4 pt-4 border-t">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <p class="font-bold text-lg text-indigo-800">答案：${item.answer}</p>
                                <div class="mt-2 text-gray-700"><strong>解說：</strong>${item.explanation}</div>
                            </div>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', renderSavedQuestions);
    </script>
</body>
</html>
